<% if @category_promotions.present? %>
  <div class="row pt-2">
    <div id="carouselExampleIndicators" class="carousel slide col-12" data-ride="carousel">
      <div class="carousel-inner">
        <% @category_promotions.each do |category_promotion| %>
          <% if category_promotion.image.attached? %>
            <div class="carousel-item <%= 'active' if category_promotion == @category_promotions.first %>">
              <%= link_to visitor_category_path(category_promotion.promotable) do %>
                <%= image_tag(category_promotion.image, :class => "d-block w-100", :alt => category_promotion.promotable.name) %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
<% end %>

<% if @brand_promotions.present? %>
  <div class="row mt-5">
    <div class="col-12">
      <legend>BRANDS IN FOCUS</legend>
      <% @brand_promotions.each_with_index do |brand_promotion, index| %>
        <% if (index % 4) == 0 && index != 0 %>
          </div>
        <% end %>

        <% if (index % 4) == 0 %>
          <div class="row pt-3">
        <% end %>
        <div class="col-3">
          <%= link_to brand_path(brand_promotion.promotable) do %>
            <%= image_tag(brand_promotion.image, :class => "w-100 shadow-transition") %>
          <% end %>
        </div>
      <% end %>
      </div>
      </div>
<% end %>

<%= render "layouts/userlayout_partials/footer" %>